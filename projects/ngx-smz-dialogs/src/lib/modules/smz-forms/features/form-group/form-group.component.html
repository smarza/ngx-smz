<!-- <ng-container *ngFor="let comp of config.entryComponents">
    <ng-template [appInjectContent]="comp.component" [config]="config" [form]="form" [inputs]="comp.inputs" [outputs]="comp.outputs" [data]="getData"></ng-template>
</ng-container> -->

<div class="smz_form_grid_container">

    <ng-container *ngIf="form != null && !config.behaviors.avoidFocusOnLoad && !configHasErrors">
        <form focusFirstInput [formGroup]="form">
            <ng-container *ngTemplateOutlet="groupTemplate"></ng-container>
        </form>
    </ng-container>

    <ng-container *ngIf="form != null && config.behaviors.avoidFocusOnLoad && !configHasErrors">
        <form [formGroup]="form" class="smz_form__wrapper">
            <ng-container *ngTemplateOutlet="groupTemplate"></ng-container>
        </form>
    </ng-container>

    <ng-container *ngIf="configHasErrors">
        <div>Error</div>
    </ng-container>

</div>

<ng-template #groupTemplate>

    <div class="container">
        <div class="row" [ngClass]="config.template | setTemplateClasses : ['horizontalAlignment', 'verticalAlignment']">
            <ng-container *ngFor="let group of config.groups">
                <div [ngClass]="group.template | setTemplateClasses : ['row']">
                    <div class="smz__group_name" *ngIf="group.showName">{{ group.name }}</div>

                    <div class="row">
                        <ng-container *ngFor="let input of group.children">
                            <div class="input__control__wrapper" [ngClass]="input.template | setTemplateClasses : ['row']">
                                <ng-container *ngTemplateOutlet="inputTemplate; context: { $implicit: input }"></ng-container>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>

</ng-template>

<ng-template #inputTemplate let-input>

    <ng-container *ngIf="input.type == controlTypes.PASSWORD">
        <smz-input-password [input]="input" [control]="form.controls[input.propertyName]"></smz-input-password>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.TEXT_MASK">
        <smz-input-mask [input]="input" [control]="form.controls[input.propertyName]"></smz-input-mask>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.TEXT">
        <smz-input-text [input]="input" [control]="form.controls[input.propertyName]"></smz-input-text>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.NUMBER">
        <smz-input-number [input]="input" [control]="form.controls[input.propertyName]"></smz-input-number>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.TEXT_AREA">
        <smz-input-text-area [input]="input" [control]="form.controls[input.propertyName]"></smz-input-text-area>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.RADIO">
        <smz-radio-button [input]="input" [control]="form.controls[input.propertyName]"></smz-radio-button>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.SWITCH">
        <smz-input-switch [input]="input" [control]="form.controls[input.propertyName]"></smz-input-switch>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.CHECKBOX">
        <smz-checkbox [input]="input" [control]="form.controls[input.propertyName]"></smz-checkbox>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.CHECKBOX_GROUP">
        <smz-checkbox-group [input]="input" [control]="form.controls[input.propertyName]"></smz-checkbox-group>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.CALENDAR">
        <smz-calendar [input]="input" [control]="form.controls[input.propertyName]"></smz-calendar>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.DROPDOWN">
        <smz-dropdown [input]="input" [control]="form.controls[input.propertyName]" [formId]="config.formId"></smz-dropdown>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.LINKED_DROPDOWN">
        <smz-linked-dropdown [input]="input" [control]="form.controls[input.propertyName]" [formId]="config.formId"></smz-linked-dropdown>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.FILE">
        <smz-file-upload [input]="input" [control]="form.controls[input.propertyName]" [form]="form"></smz-file-upload>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.CURRENCY">
        <smz-input-currency [input]="input" [control]="form.controls[input.propertyName]"></smz-input-currency>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.MULTI_SELECT">
        <smz-multi-select [input]="input" [control]="form.controls[input.propertyName]"></smz-multi-select>
    </ng-container>

    <ng-container *ngIf="input.type == controlTypes.COLOR_PICKER">
        <smz-color-picker [input]="input" [control]="form.controls[input.propertyName]"></smz-color-picker>
    </ng-container>

</ng-template>
